strict digraph G {
 {node[color=blue];"Data File"} -> {node[color=red];"NOMAD AutoRed"};
 {node[color=green];"Output Dir."} -> {node[color=red];"NOMAD AutoRed"};
 {node[color=red];"NOMAD AutoRed"} -> {node[color=red];"Figure out IPTS & sample ID"};
 {node[color=blue;label="Data File"];"df_1"} -> {node[color=red];"Figure out IPTS & sample ID"};
 {node[color=red];"Figure out IPTS & sample ID"} -> {node[color=green];"IPTS"};
 {node[color=red];"Figure out IPTS & sample ID"} -> {node[color=blue];"Sample ID"};
 {node[color=red];"Figure out IPTS & sample ID"} -> {node[color=red];"Grab characterization runs"};
 {node[color=green;label="Cental config file"];"cf_1"} -> {node[color=red];"Grab characterization runs"};
 {node[color=red];"Grab characterization runs"} -> {node[color=green];"MTC runs"};
 {node[color=red];"Grab characterization runs"} -> {node[color=green];"MT runs"};
 {node[color=red];"Grab characterization runs"} -> {node[color=green];"Van runs"};
 {node[color=red];"Grab characterization runs"} -> {node[color=green];"Calib file"};
 {node[color=blue;label="Data File"];"df_2"} -> {node[color=red];"Prepare input JSON file"};
 {node[color=green;label="Samle composition"];"sc_2"} -> {node[color=red];"Prepare input JSON file"};
 {node[color=blue;label="Samle ID"];"sid_2"} -> {node[color=green;label="Samle composition"];"sc_2"};
 {node[color=green];"MTC runs"} -> {node[color=red];"Prepare input JSON file"};
 {node[color=green];"MT runs"} -> {node[color=red];"Prepare input JSON file"};
 {node[color=green];"JSON template"} -> {node[color=red];"Prepare input JSON file"};
 {node[color=green];"Van runs"} -> {node[color=red];"Prepare input JSON file"};
 {node[color=green];"Calib file"} -> {node[color=red];"Prepare input JSON file"};
 {node[color=red];"Prepare input JSON file"} -> {node[color=green];"Input JSON for TSR"};
 {node[color=green];"Input JSON for TSR"} -> {node[color=red];"TotalScatteringReduction (TSR)"};
 {node[color=red];"TotalScatteringReduction (TSR)"} -> {node[color=blue];"S(Q) wksp"};
 {node[color=blue];"S(Q) wksp"} -> "Packing fraction converged?";
 "Packing fraction converged?" -> {node[color=red];"Save processed S(Q)"} [label="  Yes"];
 {node[color=red];"Save processed S(Q)"} -> {node[color=red];"PDFFourierTransform"};
 "Packing fraction converged?" -> "Adjust PF" [label="  No"];
 "Adjust PF" -> {node[color=red];"Prepare input JSON file"};
 {node[color=red];"PDFFourierTransform"} -> {node[color=blue];"PDF wksp"};
 {node[color=blue];"PDF wksp"} -> {node[color=red];"SavePDFGui"};
 {node[color=red];"SavePDFGui"} -> {node[color=red;label="Prepare input JSON file"];"input_json_prep_2"};
 {node[color=green];"MTC runs"} -> {node[color=red;label="Prepare input JSON file"];"input_json_prep_2"};
 {node[color=green];"MT runs"} -> {node[color=red;label="Prepare input JSON file"];"input_json_prep_2"};
 {node[color=green];"Van runs"} -> {node[color=red;label="Prepare input JSON file"];"input_json_prep_2"};
 {node[color=green];"Calib file"} -> {node[color=red;label="Prepare input JSON file"];"input_json_prep_2"};
 {node[color=blue;label="Data File"];"df_3"} -> {node[color=red;label="Prepare input JSON file"];"input_json_prep_2"};
 {node[color=green];"JSON template for BbyB Gen"} -> {node[color=red;label="Prepare input JSON file"];"input_json_prep_2"};
 {node[color=green;label="Samle composition"];"sc_2"} -> {node[color=red;label="Prepare input JSON file"];"input_json_prep_2"};
 {node[color=red;label="Prepare input JSON file"];"input_json_prep_2"} -> {node[color=green;label="Input JSON for TSR"];"input_json_TSR"};
 {node[color=green;label="Input JSON for TSR"];"input_json_TSR"} -> {node[color=red;label="TotalScatteringReduction (TSR)"];"tsr_2"};
 {node[color=red;label="TotalScatteringReduction (TSR)"];"tsr_2"} -> {node[color=green];"d-space Bragg pattern"};
 {node[color=green];"d-space Bragg pattern"} -> "Save & Send Plots";
 {node[color=blue;label="S(Q) wksp"];"sofq_wksp_1"} -> "Save & Send Plots";
 {node[color=blue;label="PDF wksp"];"pdf_wksp_1"} -> "Save & Send Plots";
}